<div class="p-6" data-paper-id="{{ paper.id }}">
    <!-- Header -->
    <div class="mb-6">
        <div class="flex items-start justify-between gap-4 mb-4">
            <h1 class="text-xl font-bold text-content-primary leading-relaxed">
                {{ paper.title }}
            </h1>
            
            <!-- Pick Button: context=detail so server returns button HTML, not checkbox -->
            <button hx-post="/actions/pick/{{ paper.id }}"
                    hx-headers='{"X-Pick-Context": "detail"}'
                    hx-swap="outerHTML"
                    class="flex-shrink-0 px-4 py-2 rounded-lg font-semibold text-sm transition-all
                           {% if paper.is_picked %}
                           bg-accent-warning-subtle text-accent-warning hover:opacity-80
                           {% else %}
                           bg-accent-muted-subtle text-content-secondary hover:bg-accent-primary-subtle hover:text-accent-primary
                           {% endif %}">
                {% if paper.is_picked %}
                <span class="flex items-center gap-1.5">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/>
                    </svg>
                    Picked
                </span>
                {% else %}
                <span class="flex items-center gap-1.5">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"/>
                    </svg>
                    Pick
                </span>
                {% endif %}
            </button>
        </div>
        
        <!-- Meta Info -->
        <div class="flex flex-wrap items-center gap-3 text-sm">
            {% if paper.journal %}
            <span class="bg-accent-primary-subtle text-accent-primary px-3 py-1 rounded-full font-medium">
                {{ paper.journal }}
            </span>
            {% endif %}
            
            {% if paper.published %}
            <span class="text-content-muted flex items-center gap-1">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"/>
                </svg>
                {{ paper.published }}
            </span>
            {% endif %}
            
            <span class="{% if paper.status == 'new' %}badge-primary
                         {% elif paper.status == 'read' %}badge-success
                         {% else %}badge-muted{% endif %}">
                {{ paper.status }}
            </span>
        </div>
    </div>
    
    <!-- Authors -->
    {% if paper.authors %}
    <div class="mb-6">
        <h2 class="section-header mb-2">저자</h2>
        <p class="text-content-secondary text-sm leading-relaxed">{{ paper.authors }}</p>
    </div>
    {% endif %}
    
    <!-- DOI & Links -->
    {% if paper.doi or paper.link %}
    <div class="mb-6">
        <h2 class="section-header mb-2">링크</h2>
        <div class="flex flex-wrap gap-2">
            {% if paper.doi %}
            <a href="https://doi.org/{{ paper.doi }}" 
               target="_blank" 
               rel="noopener noreferrer"
               class="link-btn-muted">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
                </svg>
                DOI: {{ paper.doi }}
            </a>
            {% endif %}
            
            {% if paper.link %}
            <a href="{{ paper.link }}" 
               target="_blank" 
               rel="noopener noreferrer"
               class="link-btn-primary">
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"/>
                </svg>
                원문 보기
            </a>
            {% endif %}
        </div>
    </div>
    {% endif %}
    
    <!-- Abstract -->
    {% if paper.abstract %}
    <div class="mb-6">
        <h2 class="section-header mb-2">초록</h2>
        <div class="bg-surface-overlay rounded-lg p-4 border border-border-subtle">
            <p class="text-content-secondary text-sm leading-relaxed whitespace-pre-wrap">{{ paper.abstract }}</p>
        </div>
    </div>
    {% endif %}
    
    <!-- Source Info -->
    <div class="pt-4 border-t border-border-base text-xs text-content-muted">
        <div class="flex items-center gap-4">
            <span>소스: {{ paper.source }}</span>
            {% if paper.created_at %}
            <span>수집일: {{ paper.created_at[:10] }}</span>
            {% endif %}
            <span>ID: {{ paper.id }}</span>
        </div>
    </div>
</div>
